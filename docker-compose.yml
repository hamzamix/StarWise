services:
  starwise:
    # This tells Docker Compose to build the image from the Dockerfile
    # in the current directory.
    build: .
    container_name: starwise_app
    ports:
      # Maps port 4000 on your host machine to port 4000 in the container.
      - "4000:4000"
    volumes:
      # This creates a persistent, named volume called 'starwise_db'.
      # It mounts this volume to the /app/backend directory inside the container.
      # This ensures that your db.json file is saved even if the container is removed or restarted.
      - starwise_db:/app/backend
    restart: unless-stopped
    # The 'env_file' directive has been removed.
    # Environment variables (GITHUB_CLIENT_ID, API_KEY, etc.) are now expected
    # to be provided by the runtime environment (e.g., the Portainer UI).

# Defines the named volume used for data persistence.
volumes:

  starwise_db:
