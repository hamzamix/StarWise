services:
  starwise:
    build: .
    image: hamzamix/starwise:1.2.0
    container_name: starwise_app
    ports:
      - "4000:4000"
    volumes:
      # Persist database in a data directory
      - starwise_db:/data
      # NOTE: Removed legacy mount for /app/backend - it was overwriting the backend code!
      - ./backup:/app/backup
    restart: unless-stopped
    env_file:
      - backend/.env
    environment:
      - PORT=4000

volumes:
  starwise_db:
