services:
  starwise:
    build: .
    container_name: starwise_app
    ports:
      - "4000:4000"
    volumes:
      - starwise_db:/data
      - ./backup:/app/backup
    restart: unless-stopped
    # For production, use environment variables from your deployment platform
    environment:
      - NODE_ENV=production
      - GITHUB_CLIENT_ID=${GITHUB_CLIENT_ID}
      - GITHUB_CLIENT_SECRET=${GITHUB_CLIENT_SECRET}
      - GITHUB_CALLBACK_URL=${GITHUB_CALLBACK_URL:-http://localhost:4000/auth/github/callback}
      - SESSION_SECRET=${SESSION_SECRET}
      - API_KEY=${API_KEY}# GEMINI_API_KEY
      - PORT=${PORT:-4000}
      - OPENAI_API_KEY=your_openai_api_key_here
      - ANTHROPIC_API_KEY=your_anthropic_api_key_here
      - DEFAULT_AI_PROVIDER=gemini
volumes:
  starwise_db:
